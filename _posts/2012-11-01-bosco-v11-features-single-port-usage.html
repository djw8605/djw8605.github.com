---
title: 'BOSCO v1.1 Features: Single Port Usage'
date: '2012-11-01T15:59:00.000-05:00'
author: Derek Weitzel
tags:
- bosco
- osg
- campus
- condor
modified_time: '2012-11-06T16:38:50.521-06:00'
blogger_id: tag:blogger.com,1999:blog-3007054864987759910.post-2355522235500004311
blogger_orig_url: http://derekweitzel.blogspot.com/2012/11/bosco-v11-features-single-port-usage.html
---

Welcome to part 2 of my ongoing series of v1.1 features for BOSCO. &nbsp;Part 1 was on <a href="http://derekweitzel.blogspot.com/2012/10/bosco-v11-features-ssh-file-transfer.html">SSH File Transfer</a>.<br /><br />This time, I'll talk about a new feature that we didn't planned on implementing at first, using only a single port for all communication. &nbsp;After a small investigation, it was discovered that using a single port is very simple, and with no interruption to other components. &nbsp;I talked briefly about it in a <a href="http://derekweitzel.blogspot.com/2012/09/flocking-to-osg-behind-restrictive.html">previous post</a>.<br /><br /><h3>What is it?</h3><div>In 1.0 of BOSCO, the submit host needed a lot of ports open for connections originating from the remote clusters. &nbsp;This was caused by 2 mechanisms:</div><div><ol><li>File transfer from the BOSCO submit host to the cluster login node before issuing the local submit call (qsub, condor_submit...). &nbsp;This opens ports on the submit host because the cluster would call out to the submit host to initiate transfers.</li><li>Connections for control, status, and workflow management between the cluster worker nodes and BOSCO submit host. &nbsp;This is the Campus Factory, which gives BOSCO the traditional Condor look and feel.</li></ol>In order for BOSCO to function, the submit host needs a large swath of ports in order to operate correctly. &nbsp;Also, as you scale, you will need even more ports open.</div><div><br /></div><div>The file transfers from the submit host to the login node are now being transferred using SSH, see my <a href="http://derekweitzel.blogspot.com/2012/10/bosco-v11-features-ssh-file-transfer.html">previous post</a>.</div><div><br /></div><div>With the new feature of single port usage, all control, status, and workflow management connections are routed through HTCondor's <a href="http://research.cs.wisc.edu/condor/manual/v7.9/3_7Networking_includes.html#SECTION00472000000000000000">share_port_daemon</a> on port 11000 (which is hardcoded, but I picked at random).</div><div><br /></div><h3>Why should I care?</h3><div>Limiting BOSCO to using only 1 incoming port is very useful for users on systems not managed by them. &nbsp;The node will only need 1 port open in order to run BOSCO, 11000. &nbsp;If the system has a firewall, you only have to request port 11000 be opened, rather than huge swaths. &nbsp;If you manage the system, then you will be happy that only 1 port needs to be opened in order to allow BOSCO submissions.</div><div><br /></div><div>Administrators will like this feature as it is more in line with other applications that they may run. &nbsp;For example, httpd only requires 1 port, 80. &nbsp;Now BOSCO is in the same realm, only requiring 1 port, 11000.</div>
