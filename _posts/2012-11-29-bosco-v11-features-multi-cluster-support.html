---
title: 'BOSCO v1.1 Features: Multi-Cluster Support'
date: '2012-11-29T00:33:00.000-06:00'
author: Derek Weitzel
tags:
- bosco
- osg
- campus
- condor
modified_time: '2012-11-29T12:07:06.006-06:00'
thumbnail: http://2.bp.blogspot.com/-1dzWkmWSPjk/ULcAsbJwaEI/AAAAAAAABz8/CBJK8uijAn0/s72-c/BOSCOPilotLaunch.png
blogger_id: tag:blogger.com,1999:blog-3007054864987759910.post-1512416798236467341
blogger_orig_url: http://derekweitzel.blogspot.com/2012/11/bosco-v11-features-multi-cluster-support.html
---

This is the forth in the in the series of features in the 1.1 release of BOSCO. &nbsp;The previous posts have focused on <a href="http://derekweitzel.blogspot.com/2012/10/bosco-v11-features-ssh-file-transfer.html">SSH File Transfer</a>, <a href="http://derekweitzel.blogspot.com/2012/11/bosco-v11-features-single-port-usage.html">Single Port Usage</a>, and <a href="http://derekweitzel.blogspot.com/2012/11/bosco-v11-features-multi-os-support.html">Multi-OS Support</a>. &nbsp;All of these features are new in the 1.1 release. &nbsp;But now I want to talk about a feature that was in the previous 1.0 release, but is important enough to discuss again, Multi-Cluster Support. &nbsp;This feature is very technically challenging, so I will start with why you care about Multi-Cluster in BOSCO.<br /><br /><h3>Why do you care about Multi-Cluster?</h3><div>On a typical campus, the each department may have it's own cluster for their use. &nbsp;Physics may have a cluster, Computer Science has one, and Chemistry may have another. &nbsp;Or a computing center may have multiple clusters reflecting multiple generations of hardware. &nbsp;In either of these cases, users have to pick which cluster to submit jobs to, rather than submitting to which ever has the most free cores.<br /><br />You don't care what cluster you run on. &nbsp;You don't care how to submit jobs to the PBS Chemistry cluster or the SGE Computer Science cluster. &nbsp;In addition, who wants to learn two different cluster submission methods. &nbsp;You only care about finishing your research.<br /><br />BOSCO can unify the clusters by overlaying each cluster with an on demand Condor cluster. &nbsp;That way, you only learn the Condor submission method. &nbsp;The Condor job you submit to BOSCO will then be run at whichever cluster has the first free cores for you to run on.<br /><br /></div><h3>What Is Multi-Cluster?</h3><div>In BOSCO, Multi-Cluster is the feature that allows for submission to multiple clusters with a single submit file. &nbsp;A user can submit a regular file, such as:<br /><pre>universe = vanilla<br />output = stdout.out<br />error = stderr.err<br />Executable = /bin/echo<br />arguments = hello<br />log = job.log<br />should_transfer_files = YES<br />when_to_transfer_output = ON_EXIT<br />queue 1<br /></pre><br /></div><div>When the job is submitted, BOSCO will submit glideins to each of the clusters that are configured in BOSCO. &nbsp;The glideins will start on the worker nodes of the remote clusters and join the local pool at the submission host, creating an on-demand Condor pool. &nbsp;The jobs will then run on the remote worker nodes through the glideins. &nbsp;This may be best&nbsp;illustrated&nbsp;by a picture I made for my thesis:<br /><br /><div class="separator" style="clear: both; text-align: center;"></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-1dzWkmWSPjk/ULcAsbJwaEI/AAAAAAAABz8/CBJK8uijAn0/s1600/BOSCOPilotLaunch.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="336" src="http://2.bp.blogspot.com/-1dzWkmWSPjk/ULcAsbJwaEI/AAAAAAAABz8/CBJK8uijAn0/s640/BOSCOPilotLaunch.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Overview of the BOSCO job submission to a PBS cluster</td></tr></tbody></table><br />In the diagram, first BOSCO will submit the glidein to the PBS cluster. &nbsp;Second, PBS will schedule and start the glidein on a worker node. &nbsp;Finally, the glidein will report to the BOSCO submit host and will start running user jobs.<br /><br />The Multi-Cluster feature will continue to be a integral part of the BOSCO.<br /><br />The Beta release of BOSCO is due out next week (fingers crossed!). &nbsp;Be watching this blog, and the <a href="http://bosco.opensciencegrid.org/">BOSCO website</a> for more news.<br /><br /><br /></div><div><br /></div>
