---
title: The StashCache Tester
date: '2015-10-14T10:39:00.004-05:00'
author: Derek Weitzel
tags:
- osg
modified_time: '2015-10-14T10:41:40.310-05:00'
thumbnail: http://4.bp.blogspot.com/-9WSZEcMrlnc/Vh5yGMS9eBI/AAAAAAAAEBQ/0Rvt3RT0yiQ/s72-c/Screen%2BShot%2B2015-10-14%2Bat%2B10.17.27%2BAM.png
blogger_id: tag:blogger.com,1999:blog-3007054864987759910.post-5367140131679420156
blogger_orig_url: http://derekweitzel.blogspot.com/2015/10/the-stashcache-tester.html
---

StashCache is is a framework to distribute user data from an origin site to an job. &nbsp;It uses a layer of caching, as well as the high performance XRootD service in order to distribute the data. &nbsp;It can source data from multiple machines, such as the <a href="http://stash.osgconnect.net/">OSG Stash</a>.<br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-9WSZEcMrlnc/Vh5yGMS9eBI/AAAAAAAAEBQ/0Rvt3RT0yiQ/s1600/Screen%2BShot%2B2015-10-14%2Bat%2B10.17.27%2BAM.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="400" src="http://4.bp.blogspot.com/-9WSZEcMrlnc/Vh5yGMS9eBI/AAAAAAAAEBQ/0Rvt3RT0yiQ/s400/Screen%2BShot%2B2015-10-14%2Bat%2B10.17.27%2BAM.png" width="360" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">StashCache Architecture (credit: Brian Bockelman <a href="https://indico.fnal.gov/getFile.py/access?contribId=47&amp;sessionId=5&amp;resId=0&amp;materialId=slides&amp;confId=8580">AHM2015 Talk</a>)</td></tr></tbody></table>In order to visualize the status of StashCache, I developed the <a href="https://stashcache.github.io/">StashCache-Tester</a>. &nbsp;The tester runs every night and collects data from submitting test jobs to multiple sites.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-8yF4Al0AE_g/Vh51bQKYOdI/AAAAAAAAEBY/hEpoyfGexJ8/s1600/Screen%2BShot%2B2015-10-14%2Bat%2B10.29.54%2BAM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="327" src="http://4.bp.blogspot.com/-8yF4Al0AE_g/Vh51bQKYOdI/AAAAAAAAEBY/hEpoyfGexJ8/s400/Screen%2BShot%2B2015-10-14%2Bat%2B10.29.54%2BAM.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: left;">The website visualizes the data received from these tests. &nbsp;It shows three visualizations:</div><div class="separator" style="clear: both; text-align: left;"></div><ol><li>In the top left is a table of the average download speed across multiple test jobs for each site. &nbsp;They are colored with green being the best, and red the worst. &nbsp;Also, if the test has not be able to run at a particular site for several days, it will show the last successful test, but fade the color accordingly as the test gets older. &nbsp;An all-white background means that the test hasn't been conducted for three or more days.</li><li>In the top right is a bar graph comparing the average transfer rates for multiple sites. &nbsp;This method better visualizes the sites.</li><li>On the bottom, we have a historical graph showing the last month of recorded data. &nbsp;You can see that some sites have large peaks of download speeds. &nbsp;Additionally, some sites are very infrequently tested, such as Nebraska (which is the CMS Tier-2). &nbsp;Infrequent testing can be caused by an overloaded site that is unable to run the test jobs.</li></ol><div>In the future, I want to add graphs comparing the performance of individual caches in addition to the existing site comparisons. &nbsp;Further, I would like to add many more sites to be tested.</div>
